<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Thông báo - Ban Giám Hiệu | VieLMS</title>
    <link rel="icon" href="./imgs/logo3.png" type="image/icon" />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./css/reset.css" />
    <link rel="stylesheet" href="./css/base.css" />
    <link rel="stylesheet" href="./css/styles.css" />
    <link rel="stylesheet" href="./css/enhancements.css" />
  </head>

  <body>
    <header class="header-schoolboard">
      <div class="container">
        <a class="logo" href="index.html">
          <img src="./imgs/logo3.png" alt="VieLogo" />
          <div><strong>VieLMS</strong></div>
        </a>
      </div>
    </header>

    <div class="body-schoolboard">
      <aside class="sidebar">
        <nav>
          <a href="schoolboard.html"><span class="material-symbols-outlined">home</span>Trang chủ</a>
          <a href="classes.html"><span class="material-symbols-outlined">school</span>Lớp học</a>
          <a href="teachers.html"><span class="material-symbols-outlined">person</span>Giáo viên</a>
          <a href="students-list.html"><span class="material-symbols-outlined">groups</span>Học sinh</a>
          <a href="attendance.html"><span class="material-symbols-outlined">task_alt</span>Chuyên cần</a>
          <a href="assignments.html"><span class="material-symbols-outlined">assignment</span>Phân công</a>
          <a class="active" href="notifications.html"><span class="material-symbols-outlined">notifications</span>Thông báo</a>
          <a href="reports.html"><span class="material-symbols-outlined">assessment</span>Báo cáo</a>
          <a href="logout.html"><span class="material-symbols-outlined">logout</span>Đăng xuất</a>
        </nav>
      </aside>

      <main class="content-schoolboard">
        <!-- FORM SOẠN THÔNG BÁO -->
        <section class="panel">
          <div class="shell-title">
            <h2>Tạo thông báo mới</h2>
            <p>Soạn và gửi thông báo đến giáo viên, phụ huynh hoặc học sinh</p>
          </div>

          <form id="createNoticeForm" class="form-notification">
            <div class="form-grid">
              <div class="form-group">
                <label for="receiver">Người nhận</label>
                <select id="receiver" required>
                  <option value="">-- Chọn đối tượng nhận --</option>
                  <option value="teachers">Giáo viên</option>
                  <option value="parents">Phụ huynh</option>
                  <option value="students">Học sinh</option>
                  <option value="all">Toàn trường</option>
                </select>
              </div>

              <div class="form-group">
                <label for="priority">Mức độ</label>
                <select id="priority">
                  <option value="normal">Bình thường</option>
                  <option value="important">Quan trọng</option>
                  <option value="urgent">Khẩn cấp</option>
                </select>
              </div>
            </div>

            <div class="form-group">
              <label for="title">Tiêu đề thông báo</label>
              <input type="text" id="title" placeholder="Nhập tiêu đề..." required />
            </div>

            <div class="form-group">
              <label for="message">Nội dung</label>
              <textarea
                id="message"
                rows="5"
                placeholder="Nhập nội dung thông báo..."
                required
              ></textarea>
            </div>

            <div class="form-actions">
              <button type="reset" class="btn ghost">
                <span class="material-symbols-outlined">close</span>Hủy
              </button>
              <button type="submit" class="btn primary">
                <span class="material-symbols-outlined">send</span>Gửi thông báo
              </button>
            </div>
          </form>
        </section>

        <!-- DANH SÁCH THÔNG BÁO -->
        <section class="panel">
          <div class="shell-title">
            <h2>Thông báo gần đây</h2>
            <p>Danh sách thông báo đã gửi hoặc nhận</p>
          </div>

          <div class="notifications-list" id="notificationList">
            <!-- Thông báo mẫu -->
            <div class="notification-item important">
              <div class="notification-icon danger">
                <span class="material-symbols-outlined">campaign</span>
              </div>
              <div class="notification-content">
                <div class="notification-header">
                  <h4 class="notification-title">Thông báo họp toàn trường</h4>
                  <span class="notification-badge important">Quan trọng</span>
                </div>
                <p class="notification-message">
                  Toàn bộ giáo viên, phụ huynh học sinh khối 5 tham dự họp phụ huynh định kỳ ngày 25/11/2025.
                </p>
                <div class="notification-meta">
                  <span class="notification-sender">Ban Giám Hiệu</span>
                  <span class="notification-time">Hôm qua</span>
                </div>
              </div>
            </div>
          </div>
        </section>
      </main>
    </div>

    <script>
      const form = document.getElementById("createNoticeForm");
      const list = document.getElementById("notificationList");

      form.addEventListener("submit", function (e) {
        e.preventDefault();

        const receiver = document.getElementById("receiver").value;
        const priority = document.getElementById("priority").value;
        const title = document.getElementById("title").value;
        const message = document.getElementById("message").value;

        if (!title || !message || !receiver) {
          alert("Vui lòng nhập đầy đủ thông tin!");
          return;
        }

        const item = document.createElement("div");
        item.className = `notification-item ${priority !== "normal" ? priority : ""}`;

        item.innerHTML = `
          <div class="notification-icon ${priority}">
            <span class="material-symbols-outlined">
              ${priority === "urgent" ? "warning" : priority === "important" ? "priority_high" : "info"}
            </span>
          </div>
          <div class="notification-content">
            <div class="notification-header">
              <h4 class="notification-title">${title}</h4>
              ${
                priority !== "normal"
                  ? `<span class="notification-badge ${priority}">${
                      priority === "urgent" ? "Khẩn cấp" : "Quan trọng"
                    }</span>`
                  : ""
              }
            </div>
            <p class="notification-message">${message}</p>
            <div class="notification-meta">
              <span class="notification-sender">Ban Giám Hiệu</span>
              <span class="notification-time">Vừa xong</span>
            </div>
          </div>
        `;

        list.prepend(item);
        form.reset();
        alert("Thông báo đã được gửi!");
      });
    </script>
  </body>
</html>
